@* BehaviorEditor 컴포넌트의 UI 뼈대 (T 타입 지정 완료) *@
@page "/behaviors"
<DatabaseLayout>
<ListContent>
        <DataListLayout Items="ActorData" TItem="(int, string)">
            <ListItemTemplate>
                <MudListItem Value = "context">
                    @($"{context.Item1.ToString("D4")} {context.Item2}")
                </MudListItem>
            </ListItemTemplate>
        </DataListLayout>
</ListContent>
<EditorContent>
    <MudPaper Class="pa-4" Style="height: 100%; overflow-y: auto;">
    <MudStack Spacing="4">

        @* --- 공통 속성 (Base Behavior) --- *@
        <MudText Typo="Typo.h5">Behavior Settings</MudText>
        <MudTextField T="string" Label="Name" Variant="Variant.Outlined" Margin="Margin.Dense" />
        <MudTextField T="string" Label="Description" Variant="Variant.Outlined" Margin="Margin.Dense" Lines="3" />
        <MudNumericField T="int" Label="AP Cost" Variant="Variant.Outlined" Margin="Margin.Dense" />
        
        <MudPaper Outlined="true" Class="pa-3">
            <MudStack Spacing="2">
                <div>
                    <MudText Inline="true">Scope: </MudText>
                    <MudChip T="string" Color="Color.Primary">3x3 Square</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" />
                </div>
                <div>
                    <MudText Inline="true">Tags: </MudText>
                    <MudChip T="string" Color="Color.Secondary">Fire</MudChip>
                    <MudChip T="string" Color="Color.Secondary">Magic</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Add" Size="Size.Small" />
                </div>
                <div>
                    <MudText Inline="true">Valid Targets: </MudText>
                    <MudChip T="string" Color="Color.Info">Enemy</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Add" Size="Size.Small" />
                </div>
            </MudStack>
        </MudPaper>

        @* --- 자식 클래스 선택 --- *@
        <MudPaper Outlined="true" Class="pa-3">
            <MudRadioGroup T="string">
                <MudRadio T="string" Option="@("AreaAttack")" Color="Color.Primary">Area Attack Behavior</MudRadio>
                <MudRadio T="string" Option="@("SelfEffect")" Color="Color.Secondary">Self Effect Behavior</MudRadio>
            </MudRadioGroup>
        </MudPaper>

        @* --- 선택된 자식 클래스에 따른 추가 속성 (동적 UI) --- *@
        
        @* @if (선택된_타입 == "AreaAttack") { *@
        <MudPaper Outlined="true" Class="pa-3">
            <MudText Typo="Typo.h6">Area Attack Properties</MudText>
            <MudStack Spacing="2" Class="mt-2">
                <MudNumericField T="int" Label="Power" Variant="Variant.Outlined" Margin="Margin.Dense" />
                <div>
                    <MudText Inline="true">Area: </MudText>
                    <MudChip T="string" Color="Color.Primary">Line</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" />
                </div>
                <div>
                    <MudText Inline="true">Damage Type: </MudText>
                    <MudChip T="string" Color="Color.Warning">Physical</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" />
                </div>
                <div>
                    <MudText Inline="true">Applied Buff Set: </MudText>
                    <MudChip T="string" Color="Color.Success">Poison</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" />
                </div>
            </MudStack>
        </MudPaper>
        @* } *@
        
        @* @if (선택된_타입 == "SelfEffect") { *@
        @* <MudPaper Outlined="true" Class="pa-3">
            <MudText Typo="Typo.h6">Self Effect Properties</MudText>
            <MudStack Spacing="2" Class="mt-2">
                <MudNumericField T="int" Label="Changing HP (음수 가능)" Variant="Variant.Outlined" Margin="Margin.Dense" />
                <div>
                    <MudText Inline="true">Effect: </MudText>
                    <MudChip T="string" Color="Color.Success">Regeneration</MudChip>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" />
                </div>
            </MudStack>
        </Paper> *@
        @* } *@
        
    </MudStack>
</MudPaper>
@code {
    private List<(int,string)> ActorData = new List<(int,string)>{
        (0, "Hagen"), (1, "valery")
    };
}
</EditorContent>
</DatabaseLayout>
